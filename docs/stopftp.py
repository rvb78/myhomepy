#!/usr/bin/env python 
# -*- coding: utf-8 -*-

#
# (c) Raphael Jacquot 2014
# Licenced under the terms of the GNU GPL v3.0 or later
#

import myOpenProto as mo

if __name__ == '__main__':
	print "stopping ftp"
	import config
	s = mo.ownSocket (config.host, config.password, config.port, mo.ownSocket.COMMAND)
	while (s.state is None) or (s.state == s.LOGGING) :
		m = s.handleMessage()
		if 'run' in dir(m):
			m.run()
	s.log ('stopping ftp server')
	s.sock.send ('*#13**#33*0##')
	m = s.handleMessage()	
